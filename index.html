<!DOCTYPE html>
<html lang="es">
<head>
    <!-- META TAGS B√ÅSICOS -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO PRINCIPAL -->
    <meta name="description" content="El Sigma Impostor: Juego multijugador de palabras y estrategia. Identifica al impostor, vota, y gana. ¬°Juega online gratis!">
    <meta name="keywords" content="juego de palabras, impostor, multijugador online, palabra secreta, juego de votaci√≥n, estrategia, Sigma Company">
    <meta name="author" content="Sigma Company">
    <meta name="copyright" content="¬© 2025 Sigma Company. Todos los derechos reservados.">
    <meta name="robots" content="index, follow">
    
    <!-- OPEN GRAPH (Redes Sociales) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sigmacompany.dev/impostor">
    <meta property="og:title" content="El Sigma Impostor - Juego Multijugador">
    <meta property="og:description" content="Descubre al impostor en este juego de palabras. ¬°Estrategia, diversi√≥n y adrenalina!">
    <meta property="og:image" content="https://sigmacompany.dev/impostor-og.jpg">
    
    <!-- TWITTER CARD -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="El Sigma Impostor">
    <meta name="twitter:description" content="Juego multijugador de palabras y estrategia">
    <meta name="twitter:image" content="https://sigmacompany.dev/impostor-og.jpg">
    
    <!-- TITLE Y FAVICON -->
    <title>El Sigma Impostor - Juego Multijugador de Palabras | Sigma Company</title>
    <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%2300FFFF'/><text x='50' y='60' font-size='60' font-weight='bold' text-anchor='middle' fill='%230066FF'>Œ£</text></svg>">
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- STYLES -->
    <link rel="stylesheet" href="style.css">
    
    <!-- SCHEMA.ORG JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "El Sigma Impostor",
        "applicationCategory": "Game",
        "description": "Juego multijugador online donde debes descubrir al impostor",
        "url": "https://sigmacompany.dev/impostor",
        "author": {
            "@type": "Organization",
            "name": "Sigma Company",
            "url": "https://sigmacompany.dev"
        },
        "potentialAction": {
            "@type": "PlayAction",
            "target": "https://sigmacompany.dev/impostor"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "250"
        }
    }
    </script>
</head>
<body>
    <div id="app">
        <header class="app-header hidden">
            <div class="header-content">
                <button id="back-btn" class="back-btn">‚Üê VOLVER</button>
                <h2 class="header-title">El Sigma Impostor</h2>
                <button id="sound-btn" class="sound-btn">üîä</button>
            </div>
        </header>

        <main>
            <div id="lobby">
                <div class="lobby-container">
                    <div class="logo-section">
                        <svg class="game-logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="gradPrincipal" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FF006E;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#8338EC;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#3A86FF;stop-opacity:1" />
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            <circle cx="100" cy="100" r="95" fill="url(#gradPrincipal)" opacity="0.2" filter="url(#glow)"/>
                            <circle cx="100" cy="85" r="35" fill="url(#gradPrincipal)" filter="url(#glow)"/>
                            <circle cx="85" cy="75" r="6" fill="#fff"/>
                            <circle cx="115" cy="75" r="6" fill="#fff"/>
                            <circle cx="86" cy="76" r="3" fill="#000"/>
                            <circle cx="116" cy="76" r="3" fill="#000"/>
                            <path d="M 85 95 Q 100 105 115 95" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/>
                            <rect x="95" y="125" width="10" height="30" rx="2" fill="url(#gradPrincipal)" filter="url(#glow)"/>
                            <circle cx="100" cy="160" r="5" fill="url(#gradPrincipal)" filter="url(#glow)"/>
                            <circle cx="100" cy="100" r="100" fill="none" stroke="url(#gradPrincipal)" stroke-width="1" opacity="0.3">
                                <animate attributeName="r" from="90" to="105" dur="2s" repeatCount="indefinite"/>
                            </circle>
                        </svg>
                        <h1 class="game-title">EL SIGMA IMPOSTOR</h1>
                        <p class="game-tagline">Demuestra tu ingenio ‚Ä¢ Descubre al impostor ‚Ä¢ ¬°Gana!</p>
                    </div>

                    <!-- COLUMNA IZQUIERDA: C√≥digo de Entrada -->
                    <div class="lobby-left">
                        <h3 style="color: #00FFFF; margin-bottom: 15px;">üìç ENTRADA</h3>
                        <div class="input-group">
                            <input type="text" id="player-name-input" placeholder="Tu nombre">
                            <button id="create-room">Crear</button>
                        </div>
                        <div style="text-align: center; color: #0066FF; margin: 15px 0; font-weight: 600;">O</div>
                        <div class="input-group">
                            <input type="text" id="room-code-input" placeholder="C√≥digo sala">
                            <button id="join-room">Unirse</button>
                        </div>
                    </div>

                    <!-- COLUMNA DERECHA: Pasos -->
                    <div class="lobby-right">
                        <h3 style="color: #00FFFF; margin-bottom: 15px;">üìã PASOS</h3>
                        <div style="text-align: left; font-size: 0.9em; line-height: 2;">
                            <p><span style="color: #00FF00;">‚úì</span> <span style="color: #E0E0E0;">Ingresa tu nombre</span></p>
                            <p><span style="color: #00FF00;">‚úì</span> <span style="color: #E0E0E0;">Crea o √∫nete a sala</span></p>
                            <p><span style="color: #0066FF;">‚Üí</span> <span style="color: #E0E0E0;">Espera 3+ jugadores</span></p>
                            <p><span style="color: #0066FF;">‚Üí</span> <span style="color: #E0E0E0;">Presiona iniciar</span></p>
                            <p><span style="color: #FF6B00;">‚ö°</span> <span style="color: #E0E0E0;">Habla por turnos</span></p>
                            <p><span style="color: #FF6B00;">‚ö°</span> <span style="color: #E0E0E0;">Vota al impostor</span></p>
                            <p><span style="color: #FFD700;">üèÜ</span> <span style="color: #E0E0E0;">¬°Gana!</span></p>
                        </div>
                    </div>

                    <div class="personalization-section">
                        <h3>‚öôÔ∏è M√ÅS OPCIONES</h3>
                        <div class="settings-grid">
                            <button id="shop-btn" class="settings-btn">üõí Tienda</button>
                            <button id="profile-btn" class="settings-btn">üë§ Perfil</button>
                            <button id="settings-btn" class="settings-btn">Ajustes</button>
                            <button id="show-tutorial-btn" class="settings-btn">Tutorial</button>
                            <button id="rules-btn" class="settings-btn">Normas</button>
                            <button id="admin-btn" class="settings-btn" style="display: none;">üõ°Ô∏è Admin</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="tutorial-modal" class="hidden">
                <div id="tutorial-container">
                    <div id="tutorial-steps">
                        <button class="tutorial-step-btn" data-step="1">Paso 1: Roles</button>
                        <button class="tutorial-step-btn" data-step="2">Paso 2: Pistas</button>
                        <button class="tutorial-step-btn" data-step="3">Paso 3: Objetivo</button>
                        <button class="tutorial-step-btn" data-step="4">Paso 4: Votaci√≥n</button>
                        <button class="tutorial-step-btn" data-step="5">Paso 5: Funciones especiales</button>
                        <button class="tutorial-step-btn" data-step="6">Normas</button>
                    </div>
                    <div id="tutorial-explanation">
                        <!-- El contenido se inyectar√° aqu√≠ din√°micamente. -->
                        <div id="step-content-1" class="tutorial-step-content hidden">
                            <h3>Roles</h3>
                            <p>Al inicio, a cada jugador se le asigna un rol en secreto. La mayor√≠a sois <b>Jugadores</b> y recib√≠s una palabra secreta. Uno de vosotros es el <b>Impostor</b> y no conoce la palabra, solo la categor√≠a.</p>
                        </div>
                        <div id="step-content-2" class="tutorial-step-content hidden">
                            <h3>Pistas</h3>
                            <p>Por turnos, cada jugador debe decir una palabra o frase corta como pista sobre la palabra secreta. El impostor debe disimular y dar una pista que parezca cre√≠ble bas√°ndose en las pistas de los dem√°s y la categor√≠a.</p>
                        </div>
                        <div id="step-content-3" class="tutorial-step-content hidden">
                            <h3>Objetivo</h3>
                            <p><b>Jugadores:</b> Descubrir qui√©n es el impostor. <b>Impostor:</b> Sobrevivir sin ser descubierto y, si es posible, adivinar la palabra secreta para ganar.</p>
                        </div>
                        <div id="step-content-4" class="tutorial-step-content hidden">
                            <h3>Votaci√≥n</h3>
                            <p>Despu√©s de varias rondas de pistas, todos votan para expulsar al jugador que creen que es el impostor. Si expuls√°is al impostor, ¬°ganan los jugadores! Si no, el impostor gana.</p>
                        </div>
                        <div id="step-content-5" class="tutorial-step-content hidden">
                            <h3>Funciones especiales</h3>
                            <p><b>Reacciones:</b> Reacciona a los mensajes con emojis. <b>Menciones:</b> Menciona a otros jugadores usando @nombre.</p>
                        </div>
                        <div id="step-content-6" class="tutorial-step-content hidden">
                            <h3>Normas</h3>
                            <ul>
                                <li>No usar palabras ofensivas.</li>
                                <li>No hacer trampas de ninguna manera.</li>
                                <li>Respetar a los dem√°s jugadores.</li>
                                <li>El administrador de la sala puede expulsar a los jugadores que no cumplan las normas.</li>
                            </ul>
                        </div>
                    </div>
                    <button id="close-tutorial-btn">Cerrar</button>
                </div>
            </div>

            <div id="settings-modal" class="hidden">
                <div class="settings-container">
                    <h2>Ajustes</h2>
                    <div class="setting-option">
                        <label for="music-volume">M√∫sica</label>
                        <input type="range" id="music-volume" min="0" max="1" step="0.1" value="0.5">
                    </div>
                    <div class="setting-option">
                        <label for="sfx-volume">Efectos de Sonido</label>
                        <input type="range" id="sfx-volume" min="0" max="1" step="0.1" value="0.5">
                    </div>
                    <div class="setting-option">
                        <label for="theme-select">Tema</label>
                        <select id="theme-select">
                            <option value="dark">Oscuro</option>
                            <option value="light">Claro</option>
                        </select>
                    </div>
                    <button id="save-settings-btn">Guardar</button>
                    <button id="close-settings-btn">Cerrar</button>
                </div>
            </div>

            <div id="wait-room" class="hidden">
                <div class="wait-room-container">
                    <div class="wait-room-header">
                        <div class="players-counter">
                            <span id="players-count">1</span><span>/14</span>
                        </div>
                        <h2>JUGADORES</h2>
                        <div class="placeholder"></div>
                    </div>

                    <div class="room-code-container">
                        <p>C√≥digo de la sala:</p>
                        <div class="code-display">
                            <span id="room-code-display" class="room-code">ABC123</span>
                            <button id="copy-code-btn" class="copy-btn">üìã</button>
                        </div>
                    </div>

                    <div class="players-list-container">
                        <div id="players-container" class="players-grid">
                            <!-- Player cards will be dynamically generated here -->
                        </div>
                    </div>

                    <div class="wait-room-actions">
                        <button id="add-bot-btn" class="secondary-btn hidden">+ A√±adir Bot</button>
                        <button id="start-game" class="hidden">Iniciar Juego</button>
                    </div>
                </div>

            </div>
            <div id="animation-room" class="hidden">
                <div class="animation-content">
                    <h2 id="animation-text"></h2>
                    <p id="animation-subtext"></p>
                </div>
            </div>
            <div id="game-room" class="hidden">
                <h2 id="game-title"></h2>
                <p id="game-info"></p>
                <p id="turn-timer-display"></p>

                <!-- New Word Reveal Section -->
                <div id="word-reveal-container" class="hidden" style="text-align: center; margin: 20px auto; padding: 20px; background: rgba(0, 102, 255, 0.15); border-radius: 10px; border: 1px solid #0066FF; max-width: 400px;">
                    <h3 style="color: #00FFFF; margin-bottom: 10px;">¬°Es tu turno!</h3>
                    <p id="word-reveal-timer-display" style="font-size: 1.5em; color: #FFD700; font-weight: bold; margin-bottom: 15px;">10s</p>
                    <button id="word-reveal-button" style="padding: 15px 30px; font-size: 1.2em; background: linear-gradient(135deg, #00FF00, #00AA00); box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);">
                        Haz click para ver tu palabra/rol
                    </button>
                    <p style="color: #999; font-size: 0.8em; margin-top: 10px;">Si no haces click, tu palabra/rol permanecer√° oculto.</p>
                </div>
                <!-- End New Word Reveal Section -->

                <div id="chat-section"> 
                <div id="chat-header">
                    <h3>üí¨ Chat del Juego</h3>
                    <div class="chat-controls">
                        <button id="clear-chat-btn" title="Limpiar chat">üóëÔ∏è</button>
                        <button id="mute-chat-btn" title="Silenciar chat">üîá</button>
                    </div>
                </div>
                <div id="online-players-preview" class="online-preview"></div>
                    <div id="chat-messages-container">
                        <div id="chat-messages"></div>
                    </div>
                    <div class="typing-indicator" id="typing-indicator"></div>
                    <div id="chat-input-container">
                        <input type="text" id="chat-input" placeholder="Escribe tu pista o tip... (max 100 caracteres)">
                        <div class="emoji-quick-access">
                            <button class="emoji-btn" data-emoji="üòÇ">üòÇ</button>
                            <button class="emoji-btn" data-emoji="ü§î">ü§î</button>
                            <button class="emoji-btn" data-emoji="üëÄ">üëÄ</button>
                            <button class="emoji-btn" data-emoji="üéØ">üéØ</button>
                        </div>
                        <button id="send-message" class="send-btn">‚û§ Enviar</button>
                    </div>
                </div>
            </div>
            <div id="voting-section" class="hidden">
                <h3>Votaci√≥n</h3>
                <ul id="voting-list"></ul>
            </div>
            <div id="results-room" class="hidden">
                <h2>Resultados</h2>
                <p id="result-message"></p>
                <button id="play-again">Jugar de Nuevo</button>
            </div>
            <div id="manage-words-modal" class="hidden">
                <div class="manage-words-container">
                    <h2>Gestionar Palabras</h2>
                    <div id="word-list">
                        <!-- Aqu√≠ se mostrar√° la lista de palabras -->
                    </div>
                    <input type="text" id="new-word-input" placeholder="Nueva palabra">
                    <div class="buttons">
                        <button id="add-word-btn">A√±adir</button>
                        <button id="delete-word-btn">Eliminar</button>
                        <button id="close-manage-words-btn">Cerrar</button>
                    </div>
                </div>
            </div>

            <!-- TIENDA MODAL -->
            <div id="shop-modal" class="hidden">
                <div class="shop-container">
                    <div class="shop-header">
                        <h2>üõí Tienda Sigma</h2>
                        <div class="shop-balance">
                            <span class="balance-label">Sigma Coins:</span>
                            <span class="balance-amount" id="shopBalance">0</span>
                        </div>
                        <button id="close-shop-btn" class="close-shop">‚úï</button>
                    </div>

                    <div class="shop-tabs">
                        <button class="shop-tab active" data-category="avatar">üë§ Avatares</button>
                        <button class="shop-tab" data-category="cosmetic">üé® Cosm√©ticos</button>
                        <button class="shop-tab" data-category="chat_bubble">üí¨ Chat</button>
                        <button class="shop-tab" data-category="emote">üòé Emotes</button>
                        <button class="shop-tab" data-category="boost">‚ö° Boosts</button>
                    </div>

                    <div class="shop-items-grid" id="shopItems">
                        <!-- Items din√°micos -->
                    </div>
                </div>
            </div>

            <!-- PERFIL MODAL -->
            <div id="profile-modal" class="hidden">
                <div class="profile-container">
                    <div class="profile-header">
                        <button id="close-profile-btn" class="close-btn">‚úï</button>
                        <h2>üë§ Mi Perfil</h2>
                    </div>

                    <div class="profile-content">
                        <div class="profile-stats">
                            <div class="profile-stat">
                                <span class="stat-label">Nivel</span>
                                <span class="stat-value" id="profileLevel">1</span>
                            </div>
                            <div class="profile-stat">
                                <span class="stat-label">Sigma Coins</span>
                                <span class="stat-value" id="profileCoins">0</span>
                            </div>
                            <div class="profile-stat">
                                <span class="stat-label">Partidas</span>
                                <span class="stat-value" id="profileGames">0</span>
                            </div>
                            <div class="profile-stat">
                                <span class="stat-label">Victorias</span>
                                <span class="stat-value" id="profileWins">0</span>
                            </div>
                        </div>

                        <div class="profile-section">
                            <h3>Cosm√©ticos Equipados</h3>
                            <div class="profile-cosmetics" id="profileCosmetics">
                                <!-- Cosm√©ticos din√°micos -->
                            </div>
                        </div>

                        <div class="profile-section">
                            <button id="logout-btn" class="btn btn-logout">Cerrar Sesi√≥n</button>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>
    <footer>
        <div class="footer-content">
            <span class="footer-text">¬© 2025 <strong>Sigma Company</strong> | Desarrollado con ‚ù§Ô∏è</span>
            <div class="social-media">
                <a href="https://www.youtube.com/@sigmacompanyoficial" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube - Sigma Company">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                </a>
                <a href="https://www.tiktok.com/@sigmacompanyoficial" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok - Sigma Company">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.1 1.82 2.89 2.89 0 0 1 2.31-4.64 2.88 2.88 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.08A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-.25-.01z"/></svg>
                </a>
                <a href="https://www.instagram.com/sigmacompanyoficial" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram - Sigma Company">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22.5C6.2 22.5 1.5 17.8 1.5 12S6.2 1.5 12 1.5 22.5 6.2 22.5 12 17.8 22.5 12 22.5m3.5-12a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m1.5-5.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>
                </a>
                <a href="https://github.com/sigmacompanyoficial" target="_blank" rel="noopener" aria-label="GitHub" title="GitHub - Sigma Company">
                    <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v 3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                </a>
            </div>
        </div>
        <div class="footer-logo">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="45" fill="none" stroke="#00FFFF" stroke-width="2"/>
                <text x="50" y="60" font-size="50" font-weight="bold" text-anchor="middle" fill="#00FFFF" font-family="Montserrat">Œ£</text>
            </svg>
        </div>
    </footer>
    <script type="module" src="app.js"></script>
</body>
</html>